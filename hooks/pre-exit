#!/usr/bin/env bash


set -euo pipefail

# Load plugin library
# shellcheck source=lib/plugin.bash
source "$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)/../lib/plugin.bash"

# Main Execution
log_section ":house_with_garden: Plugin setting up pre-exit tasks"

log_info "Performing pre-exit operations"
log_error "Verifying that all prior hooks ran successfully"
if [ "${PLUGIN_POST_COMMAND_RAN:-false}" = "true" ]; then
  log_success "Post command hook tasks were run successfully"
else
  log_warning "Post command hook tasks were not run"
fi

if [ "${PLUGIN_POST_CHECKOUT_RAN:-false}" = "true" ]; then
  log_success "Post checkout hook tasks were run successfully"
else
  log_warning "Post checkout hook tasks were not run"
fi


log_success "Plugin executed successfully"